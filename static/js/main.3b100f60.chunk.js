(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={list:"Filter_list__Cj8fg",item:"Filter_item__2Uhcw",button:"Filter_button__56Kds"}},17:function(t,e,n){t.exports={label:"ContactList_label__1Zy9o",input:"ContactList_input__2BpHJ"}},43:function(t,e,n){},65:function(t,e,n){"use strict";n.r(e);var c,a=n(0),r=n.n(a),o=n(9),u=n.n(o),s=n(6),i=n(10),b=n(2),l=n(28),j=n.n(l),p=n(3),m=n(5),f=Object(b.b)("app/fetchContactRequest"),h=Object(b.b)("app/fetchContactSuccess"),O=Object(b.b)("app/fetchContactError"),d=Object(b.b)("app/addContactRequest"),C=Object(b.b)("app/addContactSuccess"),v=Object(b.b)("app/addContactError"),x=Object(b.b)("app/deleteContactRequest"),_=Object(b.b)("app/deleteContactSuccess"),g=Object(b.b)("app/deleteContactError"),N=Object(b.b)("app/changeFilter"),y=Object(b.c)([],(c={},Object(m.a)(c,h,(function(t,e){return e.payload})),Object(m.a)(c,C,(function(t,e){return[e.payload].concat(Object(i.a)(t))})),Object(m.a)(c,_,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),F=Object(b.c)("",Object(m.a)({},N,(function(t,e){return e.payload}))),k=Object(p.c)({items:y,filter:F}),w=Object(b.b)("contactForm/changeInputName"),S=Object(b.b)("contactForm/changeInputNumber"),I={submitFormActions:Object(b.b)("contactForm/submit"),changeInputName:w,changeInputNumber:S},R=Object(b.c)("",Object(m.a)({},I.changeInputName,(function(t,e){return e.payload}))),L=Object(b.c)("",Object(m.a)({},I.changeInputNumber,(function(t,e){return e.payload}))),U=(Object(p.c)({name:R,number:L}),Object(p.c)({contacts:k})),B=[].concat(Object(i.a)(Object(b.d)()),[j.a]),E=Object(b.a)({reducer:U,devTools:!1,middleware:B}),T=(n(43),n(11)),q=n.n(T),A=n(16),H=n.n(A),J=n(29),D=n(8),M=n.n(D);M.a.defaults.baseURL="http://localhost:4040/contacts";var K=n(1),P=function(t,e){var n=t.toLowerCase();return e.filter((function(t){return t.name.toLowerCase().includes(n)}))},W=Object(s.b)((function(t){var e=t.contacts,n=e.filter,c=e.items;return{list:P(n,c)}}),(function(t){return{deleteContact:function(e){return t(function(t){return function(e){e(x()),M.a.delete("/".concat(t)).then((function(){return e(_(t))})).catch((function(t){return e(g(t))}))}}(e))}}}))((function(t){var e=t.list,n=t.deleteContact;return Object(K.jsx)("ul",{className:q.a.list,children:e.map((function(t){var e=t.id,c=t.name,a=t.number;return Object(K.jsxs)("li",{className:q.a.item,children:[Object(K.jsx)("span",{children:c}),Object(K.jsx)("span",{children:a}),Object(K.jsx)("button",{type:"button",onClick:function(){return n(e)},className:q.a.button,children:"X"})]},e)}))})})),X=n(30),Y=n(31),Z=n(33),z=n(32),G=n(7),Q=n.n(G),V=function(t){Object(Z.a)(n,t);var e=Object(z.a)(n);function n(){var t;Object(X.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:""},t.onChangeInput=function(e){t.setState(Object(m.a)({},e.currentTarget.name,e.currentTarget.value))},t.onSubmitForm=function(e){var n=t.state,c=n.name,a=n.number,r=t.props,o=r.contacts,u=r.onSubmit;console.log(o),e.preventDefault(),o.find((function(t){return t.name===c}))?alert("".concat(c," is already in the contact")):0!==a.length&&(u(c,a),t.onResetForm())},t.onResetForm=function(){t.setState({name:"",number:""})},t}return Object(Y.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(K.jsxs)("form",{className:Q.a.form,onSubmit:this.onSubmitForm,children:[Object(K.jsxs)("label",{className:Q.a.label,children:["Name",Object(K.jsx)("input",{className:Q.a.input,name:"name",value:this.state.name,onChange:this.onChangeInput})]}),Object(K.jsxs)("label",{className:Q.a.label,children:["Number",Object(K.jsx)("input",{className:Q.a.input,name:"number",value:this.state.number,onChange:this.onChangeInput})]}),Object(K.jsx)("button",{className:Q.a.button,type:"submit",children:"Add contact"})]})}}]),n}(a.Component),$=Object(s.b)((function(t){return{contacts:t.contacts.items}}),(function(t){return{onSubmit:function(e,n){return t(function(t,e){return function(n){var c={name:t,number:e};n(d()),M.a.post("/",c).then((function(t){return n(C(t.data))})).catch((function(t){return n(v(t))}))}}(e,n))},fetchContacts:function(){return t(function(){var t=Object(J.a)(H.a.mark((function t(e){var n;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(f()),t.prev=1,t.next=4,M.a.get("/");case 4:n=t.sent,e(h(n.data)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(O(t.t0));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}())}}}))(V),tt=n(17),et=n.n(tt),nt=Object(s.b)((function(t){return{value:t.contacts.filter}}),(function(t){return{changeFilter:function(e){return t(N(e.currentTarget.value))}}}))((function(t){var e=t.value,n=t.changeFilter;return Object(K.jsxs)("label",{className:et.a.label,children:["Find contacts by name:",Object(K.jsx)("input",{type:"text",value:e,onChange:n,className:et.a.input})]})})),ct=function(){return Object(K.jsxs)("div",{className:"phoneBook",children:[Object(K.jsx)("h1",{className:"main-title",children:"Phonebook"}),Object(K.jsx)($,{}),Object(K.jsx)("h2",{className:"second-title",children:"Contacts"}),Object(K.jsx)(nt,{}),Object(K.jsx)(W,{})]})};n(64);u.a.render(Object(K.jsx)(s.a,{store:E,children:Object(K.jsx)(r.a.StrictMode,{children:Object(K.jsx)(ct,{})})}),document.getElementById("root"))},7:function(t,e,n){t.exports={form:"ContactForm_form__2apf5",label:"ContactForm_label__9U1Wv",input:"ContactForm_input__3Y8py",button:"ContactForm_button__UHBUH"}}},[[65,1,2]]]);
//# sourceMappingURL=main.3b100f60.chunk.js.map